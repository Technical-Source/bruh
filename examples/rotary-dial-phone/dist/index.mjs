class t{constructor(){this.properties={},this.tag=void 0}toString(){}toNode(){}addProperties(t={}){return Object.assign(this.properties,t),this}setTag(t=""){return this.tag=t,this}}class e extends t{constructor(t,e){super(),this.name=t,this.namespace=e,this.children=[],this.attributes={},this.dataset={}}toString(){const e=this.tag?Object.assign({},this.dataset,{bruh:this.tag}):this.dataset,s=[...Object.entries(this.attributes),...Object.entries(e).map((([t,e])=>[`data-${t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}`,e]))].map((([t,e])=>{return""==e?` ${t}`:` ${t}="${r=e,(r+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")}"`;var r})).join(""),n=`<${this.name}${s}>`;if(a=this.name,["base","link","meta","hr","br","wbr","area","img","track","embed","param","source","col","input"].includes(a))return n;return n+this.children.map((e=>e instanceof t||e instanceof r?e.toString():(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;"))).join("")+`</${this.name}>`;var a}toNode(){const e=this.namespace?document.createElementNS(this.namespace,this.name):document.createElement(this.name);return e.append(...this.children.map((e=>e instanceof t?e.toNode():e instanceof Node?e:e+""))),Object.assign(e,this.properties),Object.entries(this.attributes).forEach((([t,r])=>e.setAttribute(t,r))),Object.assign(e.dataset,this.dataset),e}addAttributes(t={}){return Object.assign(this.attributes,t),this}addDataAttributes(t={}){return Object.assign(this.dataset,t),this}prepend(...t){return this.children.unshift(...t),this}append(...t){return this.children.push(...t),this}}class r{constructor(t){this.string=t}toString(){return this.string}}const s=(s,n)=>(...a)=>{const i=new e(s,n);var o;return(o=a[0])instanceof t||o instanceof r||"object"!=typeof o?(i.attributes={},i.children=a):[i.attributes,...i.children]=a,i},n=s("h1"),a=s("main"),i=s("a"),o=s("button"),c=s("circle","http://www.w3.org/2000/svg"),h=s("defs","http://www.w3.org/2000/svg"),d=s("g","http://www.w3.org/2000/svg"),u=s("mask","http://www.w3.org/2000/svg"),l=s("path","http://www.w3.org/2000/svg"),p=s("text","http://www.w3.org/2000/svg"),g=i({href:"tel:"}).toNode(),m=o("Clear Number").toNode();m.addEventListener("click",(()=>{g.textContent="",g.href="tel:"}));const b=n("Go ahead and dial a phone number: ",g,m),w=2*Math.PI,f=(t,e)=>(t%e+e)%e,y=(t,e)=>{if(null==e)return f(t,w);const r=f(t,w)-f(e,w),s=-Math.sign(r)*(w-Math.abs(r));return e+(Math.abs(r)<Math.abs(s)?r:s)},v=t=>{const e=t[0]-50,r=-(t[1]-100)-50;return Math.atan2(r,e)},x=[1,2,3,4,5,6,7,8,9,0].map(((t,e)=>{const r=1/12*w,s=r+e/9*(w-r-r);return{number:t,angle:s,coordinates:((t,e)=>[Math.cos(t)*e+50,100-(Math.sin(t)*e+50)])(s,40)}})),j=d({id:"numbers"},...x.map((({number:t,coordinates:e})=>p({x:e[0],y:e[1]+1,"alignment-baseline":"middle","text-anchor":"middle"},t)))),M=u({id:"holes"},c({fill:"white",cx:50,cy:50,r:50}),...x.map((({number:t,coordinates:e})=>c({fill:"black",cx:e[0],cy:e[1],r:7.5})))),k=t=>{const e=[],r=[],s=async()=>new Promise((t=>{e.length?t(e.shift()):r.push(t)}));return t((async t=>{r.length?r.shift()(t):e.push(t)})),{[Symbol.asyncIterator](){return this},next:async()=>({done:!1,value:await s()})}},N=t=>async function*(e){for await(const r of e)yield t(r)},$=t=>async function*(e){for await(const r of e)t(r)&&(yield r)},E=c({cx:50,cy:50,r:50,fill:"gray",mask:"url(#holes)"}).toNode(),O=t=>{const e=E.getBoundingClientRect();return[100*(t.x-e.left)/e.width,100*(t.y-e.top)/e.height]};E.style.setProperty("cursor","grab");let P=0;const A=()=>{0!=P&&(P=Math.max(0,P-w/100),E.style.setProperty("transform",`rotate(${P}rad)`),requestAnimationFrame(A))};E.addEventListener("pointerdown",(t=>{if(0!=P)return;E.style.setProperty("cursor","grabbing");const e=y(v(O(t)));let r,s=e;const n=((t,e)=>{let r;const s=k((s=>{t.addEventListener(e,s),r=()=>t.removeEventListener(e,s)}));return s.stop=r,s})(document,"pointermove");var a;((t,...e)=>{e.reduce(((t,e)=>e(t)),t)})(n,$((e=>e.pointerId==t.pointerId)),N((t=>v(O(t)))),N((t=>y(t,r))),$((t=>{const e=t<r&&t>0&&t<s;return r=t,e})),(a=t=>{s=t,P=-(t-e),E.style.setProperty("transform",`rotate(${P}rad)`)},async t=>{for await(const e of t)a(e)}));const i=e=>{e.pointerId==t.pointerId&&o()},o=()=>{var t;E.style.setProperty("cursor","grab"),P>.05*w&&(t=(t=>x.reduce(((e,r)=>Math.abs(r.angle-t)<Math.abs(e.angle-t)?r:e)).number)(P),g.textContent+=t,g.href+=t),requestAnimationFrame(A),n.stop(),document.removeEventListener("pointerup",i)};document.addEventListener("pointerup",i)}));const L=a(b,((...t)=>s("svg","http://www.w3.org/2000/svg")(...t).addAttributes({xmlns:"http://www.w3.org/2000/svg"}))({viewBox:"0 0 100 100"},h(M),j,E,l({d:"M85,55 a 10 8 5 0 0 15 -1",fill:"none",stroke:"black","stroke-width":"3px","stroke-linecap":"round"})));document.body.replaceChildren(L.toNode());
//# sourceMappingURL=index.mjs.map
