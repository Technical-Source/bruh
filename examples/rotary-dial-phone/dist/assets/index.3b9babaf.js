var t=Object.defineProperty,e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;class a{constructor(){this.properties={}}toString(){}toNode(){}addProperties(t={}){return Object.assign(this.properties,t),this}}class i extends a{constructor(t,e){super(),this.name=t,this.namespace=e,this.children=[],this.attributes={},this.dataset={}}toString(){const t=this.tag?Object.assign({},this.dataset,{bruh:this.tag}):this.dataset,e=[...Object.entries(this.attributes),...Object.entries(t).map((([t,e])=>[`data-${t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}`,e]))].map((([t,e])=>{return""==e?` ${t}`:` ${t}="${r=e,(r+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")}"`;var r})).join(""),r=`<${this.name}${e}>`;if(n=this.name,["base","link","meta","hr","br","wbr","area","img","track","embed","param","source","col","input"].includes(n))return r;return r+this.children.flat(1/0).map((t=>t instanceof a||t instanceof o?t.toString():(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;"))).join("")+`</${this.name}>`;var n}toNode(){const t=this.namespace?document.createElementNS(this.namespace,this.name):document.createElement(this.name);return t.append(...this.children.flat(1/0).map((t=>t instanceof a?t.toNode():t instanceof Node?t:t+""))),Object.assign(t,this.properties),Object.entries(this.attributes).forEach((([e,r])=>t.setAttribute(e,r))),Object.assign(t.dataset,this.dataset),t}addAttributes(t={}){return Object.assign(this.attributes,t),this}addDataAttributes(t={}){return Object.assign(this.dataset,t),this}prepend(...t){return this.children.unshift(...t),this}append(...t){return this.children.push(...t),this}}class o{constructor(t){this.string=t}toString(){return this.string}}const c=(t,e)=>(...r)=>{const n=new i(t,e);var s;return(s=r[0])instanceof a||s instanceof o||"object"!=typeof s?(n.attributes={},n.children=r):[n.attributes,...n.children]=r,n},d=(t,e,...r)=>{if("string"==typeof t){const n=new i(t);return n.attributes=e||{},n.children=r,n}return t(Object.assign({},e,{children:r}))},l=c("main"),h=c("button"),u=c("circle","http://www.w3.org/2000/svg"),p=c("defs","http://www.w3.org/2000/svg"),m=c("g","http://www.w3.org/2000/svg"),b=c("mask","http://www.w3.org/2000/svg"),g=c("path","http://www.w3.org/2000/svg"),w=c("text","http://www.w3.org/2000/svg"),f=2*Math.PI,v=(t,e)=>(t%e+e)%e,y=(t,e)=>{if(null==e)return v(t,f);const r=v(t,f)-v(e,f),n=-Math.sign(r)*(f-Math.abs(r));return e+(Math.abs(r)<Math.abs(n)?r:n)},j=t=>{const e=t[0]-50,r=-(t[1]-100)-50;return Math.atan2(r,e)},O=[1,2,3,4,5,6,7,8,9,0].map(((t,e)=>{const r=1/12*f,n=r+e/9*(f-r-r);return{number:t,angle:n,coordinates:((t,e)=>[Math.cos(t)*e+50,100-(Math.sin(t)*e+50)])(n,40)}})),x=m({id:"numbers"},...O.map((({number:t,coordinates:e})=>w({x:e[0],y:e[1]+1,"alignment-baseline":"middle","text-anchor":"middle"},t)))),E=b({id:"holes"},u({fill:"white",cx:50,cy:50,r:50}),...O.map((({number:t,coordinates:e})=>u({fill:"black",cx:e[0],cy:e[1],r:7.5})))),M=(t,a,i)=>t.dispatchEvent(new CustomEvent(a,((t,a)=>{for(var i in a||(a={}))r.call(a,i)&&s(t,i,a[i]);if(e)for(var i of e(a))n.call(a,i)&&s(t,i,a[i]);return t})({bubbles:!0,cancelable:!0,composed:!0},i))),k=u({cx:50,cy:50,r:50,fill:"gray",mask:"url(#holes)"}).toNode(),N=t=>{const e=k.getBoundingClientRect();return[100*(t.x-e.left)/e.width,100*(t.y-e.top)/e.height]};k.style.setProperty("cursor","grab");let P=0;const $=()=>{0!=P&&(P=Math.max(0,P-f/100),k.style.setProperty("transform",`rotate(${P}rad)`),requestAnimationFrame($))};k.addEventListener("pointerdown",(async t=>{if(0!=P)return;k.style.setProperty("cursor","grabbing");const e=y(j(N(t)));let r,n=e;const s=s=>[s].filter((e=>e.pointerId==t.pointerId)).map((t=>j(N(t)))).map((t=>y(t,r))).filter((t=>{const e=t<r&&t>0&&t<n;return r=t,e})).forEach((t=>{n=t,P=-(t-e),k.style.setProperty("transform",`rotate(${P}rad)`)}));document.addEventListener("pointermove",s),document.addEventListener("pointerup",(e=>{var r;e.pointerId==t.pointerId&&(k.style.setProperty("cursor","grab"),P>.05*f&&M(k,"dialed-number",{detail:(r=P,O.reduce(((t,e)=>Math.abs(e.angle-r)<Math.abs(t.angle-r)?e:t)).number)}),requestAnimationFrame($),document.removeEventListener("pointermove",s))}),{once:!0})}));const A=d("a",{href:"tel:"}).toNode();document.addEventListener("dialed-number",(t=>{const e=t.detail;A.textContent+=e,A.href+=e}));const C=h("Clear Number").toNode();C.addEventListener("click",(()=>{A.textContent="",A.href="tel:"}));const L=l(d("div",null,d("h1",null,"Go ahead and dial a phone number: "),A,C),((...t)=>c("svg","http://www.w3.org/2000/svg")(...t).addAttributes({xmlns:"http://www.w3.org/2000/svg"}))({viewBox:"0 0 100 100"},p(E),x,k,g({d:"M85,55 a 10 8 5 0 0 15 -1",fill:"none",stroke:"black","stroke-width":"3px","stroke-linecap":"round"})));document.body.replaceChildren(L.toNode());
