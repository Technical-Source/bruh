var ne=Object.defineProperty,oe=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var C=(n,o,i)=>o in n?ne(n,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[o]=i,R=(n,o)=>{for(var i in o||(o={}))ae.call(o,i)&&C(n,i,o[i]);if(W)for(var i of W(o))ie.call(o,i)&&C(n,i,o[i]);return n},F=(n,o)=>oe(n,se(o));var E=(n,o,i)=>(C(n,typeof o!="symbol"?o+"":o,i),i),O=(n,o,i)=>{if(!o.has(n))throw TypeError("Cannot "+i)};var a=(n,o,i)=>(O(n,o,"read from private field"),i?i.call(n):o.get(n)),u=(n,o,i)=>{if(o.has(n))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(n):o.set(n,i)},b=(n,o,i,l)=>(O(n,o,"write to private field"),l?l.call(n,i):o.set(n,i),i);var _=(n,o,i)=>(O(n,o,"access private method"),i);(function(n,o){typeof exports=="object"&&typeof module!="undefined"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(n=typeof globalThis!="undefined"?globalThis:n||self,o(n.bruh={}))})(this,function(n){var ce,m,g,de,h,S,k,y,A,p,M,N,j,q;"use strict";class o{constructor(){E(this,"startMarker",document.createTextNode(""));E(this,"endMarker",document.createTextNode(""))}static from(e,t){const s=new this;return e.before(s.startMarker),t.after(s.endMarker),s}before(...e){this.startMarker.before(...e)}prepend(...e){this.startMarker.after(...e)}append(...e){this.endMarker.before(...e)}after(...e){this.endMarker.after(...e)}remove(){const e=document.createRange();e.setStartBefore(this.startMarker),e.setEndAfter(this.endMarker),e.deleteContents()}replaceChildren(...e){const t=document.createRange();t.setStartAfter(this.startMarker),t.setEndBefore(this.endMarker),t.deleteContents(),this.startMarker.after(...e)}replaceWith(...e){this.endMarker.after(...e),this.remove()}get childNodes(){const e=[];for(let t=this.startMarker.nextSibling;t!=this.endMarker&&t;t=t.nextSibling)e.push(t);return e}get children(){return this.childNodes.filter(e=>e instanceof HTMLElement)}}var i=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",LiveFragment:o});const l=Symbol.for("bruh reactive");class J{constructor(e){E(this,ce,!0);u(this,m,void 0);u(this,g,new Set);b(this,m,e)}get value(){return a(this,m)}set value(e){if(e!==a(this,m)){b(this,m,e);for(const t of a(this,g))t()}}addReaction(e){return a(this,g).add(e),()=>a(this,g).delete(e)}}ce=l,m=new WeakMap,g=new WeakMap;const c=class{constructor(e,t){u(this,j);E(this,de,!0);u(this,h,void 0);u(this,S,new Set);u(this,k,void 0);u(this,y,0);u(this,A,new Set);if(!t){b(this,h,e);return}b(this,h,t()),b(this,k,t),b(this,y,Math.max(...e.map(s=>a(s,y)))+1),e.forEach(s=>a(s,A).add(this))}get value(){return a(c,p).size&&c.applyUpdates(),a(this,h)}set value(e){a(this,y)===0&&(a(c,p).size||queueMicrotask(c.applyUpdates),a(c,p).set(this,e))}addReaction(e){return a(this,S).add(e),()=>a(this,S).delete(e)}static applyUpdates(){var e,t,s;if(!!a(c,p).size){for(const[d,f]of a(c,p).entries())_(e=d,j,q).call(e,f);a(c,p).clear();for(const d of a(c,M))if(d)for(const f of d)_(s=f,j,q).call(s,a(t=f,k).call(t));a(c,M).length=0;for(const d of a(c,N))d();a(c,N).length=0}}};let v=c;de=l,h=new WeakMap,S=new WeakMap,k=new WeakMap,y=new WeakMap,A=new WeakMap,p=new WeakMap,M=new WeakMap,N=new WeakMap,j=new WeakSet,q=function(e){if(e===a(this,h))return;b(this,h,e),a(c,N).push(...a(this,S));const t=a(c,M);for(const s of a(this,A)){const d=a(s,y);t[d]||(t[d]=new Set),t[d].add(s)}},u(v,p,new Map),u(v,M,[]),u(v,N,[]);const X=(r,e)=>new v(r,e),w=(r,e)=>{if(r==null?void 0:r[l])return e(r.value),r.addReaction(()=>e(r.value));e(r)};var H=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isReactive:l,SimpleReactive:J,FunctionalReactive:v,r:X,reactiveDo:w});const I=r=>(r==null?void 0:r[l])||r instanceof Node||Array.isArray(r)||r==null||!(typeof r=="function"||typeof r=="object"),z=r=>r instanceof Node?r:document.createTextNode(r),T=(...r)=>r.flat(1/0).flatMap(e=>{if(!e[l])return[z(e)];if(Array.isArray(e.value)){const s=new o;return e.addReaction(()=>{s.replaceChildren(...T(...e.value))}),[s.startMarker,...T(...e.value),s.endMarker]}let t=z(e.value);return e.addReaction(()=>{const s=t;t=z(e.value),s.replaceWith(t)}),[t]}),P=(r,e)=>{for(const t in e)w(e[t],s=>{s!==void 0?r.style.setProperty(t,s):r.style.removeProperty(t)})},B=(r,e)=>{for(const t in e)w(e[t],s=>{r.classList.toggle(t,s)})},D=(r,e)=>{for(const t in e)w(e[t],s=>{s!==void 0?r.setAttribute(t,s):r.removeAttribute(t)})},$=r=>{if(!r[l])return document.createTextNode(r);const e=document.createTextNode(r.value);return r.addReaction(()=>{e.textContent=r.value}),e},L=r=>(...e)=>{var U;if(I(e[0])){const Q=document.createElement(r);return Q.append(...T(...e)),Q}const[t,...s]=e,{namespace:d}=(U=t.bruh)!=null?U:{};delete t.bruh;const f=d?document.createElementNS(d,r):document.createElement(r);return typeof t.style=="object"&&(P(f,t.style),delete t.style),typeof t.class=="object"&&(B(f,t.class),delete t.class),D(f,t),f.append(...T(...s)),f},G=(r,e,...t)=>{if(typeof r=="string"){const s=L(r);return e?s(e,...t):s(...t)}return r(F(R({},e),{children:t}))},K=({children:r})=>r,Y=()=>{const r={},e=document.getElementsByTagName("bruh-textnode");for(const t of e){const s=document.createTextNode(t.textContent),d=t.getAttribute("tag");d&&(r[d]=s),t.replaceWith(s)}return r};var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bruhChildrenToNodes:T,applyStyles:P,applyClasses:B,applyAttributes:D,t:$,e:L,h:G,JSXFragment:K,hydrateTextNodes:Y});const V=(r,...e)=>e.reduce((t,s)=>s(t),r),x=(r,e,t)=>r.dispatchEvent(new CustomEvent(e,R({bubbles:!0,cancelable:!0,composed:!0},t))),ee=(r,e)=>{const t=F(R({},r),{[Symbol.iterator]:()=>e[Symbol.iterator]()});return Object.defineProperty(t,Symbol.iterator,{enumerable:!1}),t},te=r=>new Proxy({},{get:(e,t)=>r(t)});var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",pipe:V,dispatch:x,createDestructable:ee,functionAsObject:te});n.dom=Z,n.liveFragment=i,n.reactive=H,n.util=re,Object.defineProperty(n,"__esModule",{value:!0}),n[Symbol.toStringTag]="Module"});
//# sourceMappingURL=bruh.umd.js.map
